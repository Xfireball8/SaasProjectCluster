{"ignition":{"version":"3.2.0"},"passwd":{"users":[{"name":"core","sshAuthorizedKeys":["ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDV174+I6z1uos2Qhq+ex3yhN3Kf7fVRZ6NEYydhKCtpdSq1I5mKAdbaLd8LQCjA7Y0HjXJCkvVLeW2UgfelDbg6c3BNGZ/dCEi6P0VbUHjhzB68CcOoTmcluC/KYaihSg6qiyW/uW1zJ+Rl0bHlMOZZtlE5bqw/KSxGQ6wbVqrE0yL3EwumlSXJq3GyZFkymLyaSZ5+bNsUkQJhGrzYOXYKJpzcsc01DrQ+nCFAQZT68rxpIZVXrEdOQoCmgY3VJqVNtwXC4LVGcA+Pdn3t+OAyT8abQIuOar2PaY26PqjBclnLU35Ki9PJt/dUglfRi5Qzdm68cq5YSHyOGszzHIv faisalsalhi@MacBook-Pro-de-Faisal-2.local"]}]},"storage":{"files":[{"path":"/etc/hostname","contents":{"source":"data:,ip-192-168-1-59.eu-west-3.compute.internal"},"mode":420},{"overwrite":true,"path":"/etc/hosts","contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/4zLQQrCQAwF0L2n6AXymR9pbI5TSsDC2Ck2g9d3qy6kB3jUGwoKONS2zPXejrzQFbQJhOmw7kJXoU1CMUV0ecWRcsXSHnvPwLplPLe5frry48o5N/q3G/2fewcAAP//YVGGP7wAAAA="},"mode":420},{"path":"/etc/sysconfig/docker","contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/4SPsW7zMAyEdz0FkcyC/z/oVMAP0KFNgXbswliUw1YhXVFK7Lcv7Nhdu0jA3Xc83B4aKl1jk3UqkfsmaPdF2bk9PGvgOEE5kxHoUFjFgCNMWuGGUqAodGeUnmYGbriwcD8AAemiArmKuePr+9Px5a3deW+UWOroSfCUKMCHA/A+ae9D5ivl9lNrFkybY0Uz9rS5eqWccDpsOb6SzzRDtEqBItZUfE184QKikRO1//8dHh7nZ6VYuPgByxmaarlJfKKRunX8+i3QylebeyX4Ies4/ZlcqK1qKPNUayMmo1/RX9C+75rbuZ8AAAD//9AKHaiHAQAA"},"mode":420},{"path":"/var/lib/kubelet/cert-key.pem","contents":{"source":"s3://saasproj/instances/kubelet-B-key.pem"},"mode":420},{"path":"/var/lib/kubelet/cert.pem","contents":{"source":"s3://saasproj/instances/kubelet-B.pem"},"mode":420},{"path":"/var/lib/kubelet/kubeconfig","contents":{"source":"s3://saasproj/instances/kubelet-B.kubeconfig"},"mode":420},{"path":"/var/lib/kubelet/config","contents":{"source":"s3://saasproj/instances/kubelet-B.config"},"mode":420},{"path":"/var/lib/kubelet/ca.pem","contents":{"source":"s3://saasproj/instances/ca.pem"},"mode":420},{"path":"/var/lib/kube-proxy/kubeconfig","contents":{"source":"s3://saasproj/instances/kube-proxy.kubeconfig"},"mode":420},{"path":"/var/lib/kube-proxy/config","contents":{"source":"s3://saasproj/instances/kube-proxy.config"},"mode":420},{"path":"/etc/cni/myconf/10-bridge.conf","contents":{"source":"s3://saasproj/instances/kubelet-B-bridge-conf"},"mode":420},{"path":"/etc/cni/myconf/99-loopback.conf","contents":{"source":"s3://saasproj/instances/kubelet-B-loopback-conf"},"mode":420}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=Kubelet Component : Kube Proxy\n\n[Service]\nExecStart=/bin/kube-proxy \\\n  # General Settings\n  --config=/var/lib/kube-proxy/config \\\n  # Authorization\n  --kubeconfig=/var/lib/kube-proxy/kubeconfig\nRestart=on-failure\n\n[Install]\nWantedBy=kubernetes-ready.target\n","name":"kube-proxy.service"},{"contents":"[Unit]\nDescription=Kubelet Worker B\nAfter=docker.service\n\n[Service]\nExecStartPre=/bin/sleep 10\nExecStart=/bin/kubelet \\\n  # General Settings\n  --config=/var/lib/kubelet/config \\\n  --volume-plugin-dir=/var/lib/kubelet/volume/exec/ \\\n  # Container Runtime Parameter\n  --container-runtime=docker \\\n  --docker-endpoint=unix://var/run/docker.sock \\\n  --runtime-cgroups=/systemd/system.slice/docker.service \\\n  --kubelet-cgroups=/systemd/system.slice \\\n  # Networking\n  --cni-bin-dir=/usr/libexec/cni/ \\\n  --cni-conf-dir=/etc/cni/myconf/ \\\n  --network-plugin=cni \\\n  # Authorization\n  --register-node=true \\\n  --node-ip=192.168.1.59 \\\n  --kubeconfig=/var/lib/kubelet/kubeconfig\nRestart=on-failure\n\n[Install]\nWantedBy=kubernetes-ready.target\n","name":"kubelet.service"}]}}
