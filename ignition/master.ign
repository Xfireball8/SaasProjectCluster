{"ignition":{"version":"3.2.0"},"passwd":{"users":[{"name":"core","sshAuthorizedKeys":["ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDV174+I6z1uos2Qhq+ex3yhN3Kf7fVRZ6NEYydhKCtpdSq1I5mKAdbaLd8LQCjA7Y0HjXJCkvVLeW2UgfelDbg6c3BNGZ/dCEi6P0VbUHjhzB68CcOoTmcluC/KYaihSg6qiyW/uW1zJ+Rl0bHlMOZZtlE5bqw/KSxGQ6wbVqrE0yL3EwumlSXJq3GyZFkymLyaSZ5+bNsUkQJhGrzYOXYKJpzcsc01DrQ+nCFAQZT68rxpIZVXrEdOQoCmgY3VJqVNtwXC4LVGcA+Pdn3t+OAyT8abQIuOar2PaY26PqjBclnLU35Ki9PJt/dUglfRi5Qzdm68cq5YSHyOGszzHIv faisalsalhi@MacBook-Pro-de-Faisal-2.local"]}]},"storage":{"files":[{"path":"/etc/hostname","contents":{"source":"data:,ip-192-168-1-62.eu-west-3.compute.internal"},"mode":420},{"path":"/etc/etcd/ca.pem","contents":{"source":"s3://saasproj/instances/ca.pem"},"mode":420},{"path":"/etc/etcd/cert.pem","contents":{"source":"s3://saasproj/instances/kube-apiserver.pem"},"mode":420},{"path":"/etc/etcd/cert-key.pem","contents":{"source":"s3://saasproj/instances/kube-apiserver-key.pem"},"mode":420},{"path":"/var/lib/kube-apiserver/ca.pem","contents":{"source":"s3://saasproj/instances/ca.pem"},"mode":420},{"path":"/var/lib/kube-apiserver/cert.pem","contents":{"source":"s3://saasproj/instances/kube-apiserver.pem"},"mode":420},{"path":"/var/lib/kube-apiserver/cert-key.pem","contents":{"source":"s3://saasproj/instances/kube-apiserver-key.pem"},"mode":420},{"path":"/var/lib/kube-controller-manager/ca.pem","contents":{"source":"s3://saasproj/instances/ca.pem"},"mode":420},{"path":"/var/lib/kube-controller-manager/cert.pem","contents":{"source":"s3://saasproj/instances/kube-controller-manager.pem"},"mode":420},{"path":"/var/lib/kube-controller-manager/cert-key.pem","contents":{"source":"s3://saasproj/instances/kube-controller-manager-key.pem"},"mode":420},{"path":"/var/lib/kube-controller-manager/kubeconfig","contents":{"source":"s3://saasproj/instances/kube-controller-manager.kubeconfig"},"mode":420},{"path":"/var/lib/kube-scheduler/ca.pem","contents":{"source":"s3://saasproj/instances/ca.pem"},"mode":420},{"path":"/var/lib/kube-scheduler/cert.pem","contents":{"source":"s3://saasproj/instances/kube-scheduler.pem"},"mode":420},{"path":"/var/lib/kube-scheduler/cert-key.pem","contents":{"source":"s3://saasproj/instances/kube-scheduler-key.pem"},"mode":420},{"path":"/var/lib/kube-scheduler/kubeconfig","contents":{"source":"s3://saasproj/instances/kube-scheduler.kubeconfig"},"mode":420}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=etcd\n\n[Service]\nType=notify\nExecStart=/bin/etcd   --name ip-192-168-1-62.eu-west-3.compute.internal   --cert-file=/etc/etcd/cert.pem   --key-file=/etc/etcd/cert-key.pem   --peer-cert-file=/etc/etcd/cert.pem   --peer-key-file=/etc/etcd/cert-key.pem   --trusted-ca-file=/etc/etcd/ca.pem   --peer-trusted-ca-file=/etc/etcd/ca.pem   --peer-client-cert-auth   --client-cert-auth   --initial-advertise-peer-urls https://192.168.1.62:2380   --listen-peer-urls https://102.168.1.62:2380   --listen-client-urls https://192.168.1.62:2379,https://127.0.0.1:2379   --advertise-client-urls https://192.168.1.62:2379   --data-dir=/var/lib/etcd\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\n","name":"etcd.service"},{"contents":"[Unit]\nDescription=Kubernetes Component : API Server\n\n[Service]\nExecStart=/bin/kube-api-server   # General Settings \n  --advertise-address=192.168.1.62   --apiserver-count=1   --bind-address=192.168.1.62   --secure-port=6443   --cloud-provider=aws   # Network Settings\n  --service-cluster-ip-range=10.32.0.0/16   --service-node-port-range=30000-32767   # Authorization\n  --authorization-mode=Node,RBAC   # Authentication\n  --client-ca-file=/var/lib/kube-apiserver/ca.pem   --tls-cert-file=/var/lib/kube-apiserver/cert.pem   --tls-private-key-file=/var/lib/kube-apiserver/cert-key.pem   # Etcd Settings\n  --etcd-servers=https://192.168.1.62:2379\nRestart=on-failure\n\n[Install]\nWantedBy=kubernetes-ready.target\n","name":"kube-apiserver.service"},{"contents":"[Unit]\nDescription=Kubernetes Component : Scheduler\n\n[Service]\nExecStart=/bin/kube-scheduler   # General Settings \n  --bind-address=192.168.1.62   --master=192.168.1.62   # Authorization\n  --config=/var/lib/kube-scheduler/kubeconfig   # Authentication\n  --client-ca-file=/var/lib/kube-scheduler/ca.pem   --tls-cert-file=/var/lib/kube-scheduler/cert.pem   --tls-private-key-file=/var/lib/kube-scheduler/cert-key.pem Restart=on-failure\n\n[Install]\nWantedBy=kubernetes-ready.target\n","name":"kube-scheduler.service"},{"contents":"[Unit]\nDescription=Kubernetes Component : Controller Manager\n\n[Service]\nExecStart=/bin/kube-controller-manager   # General Settings\n  --bind-address=192.168.1.62   --master=192.168.1.62   --secure-port=6443   --cloud-provider=aws   --cluster-name=kubernetes   # Network Settings\n  --allocate-node-cidr=true   --configure-cloud-routes=true   --cluster-cidr=10.200.0.0/16   --service-cluster-ip-range=10.32.0.0/16   --node-cidr-mask-size=16   --flex-volume-plugin-dir=/etc/kubernetes/kubelet-plugins/volume/exec/   # Authentication Settings\n  --client-ca-file=/var/lib/kube-controller-manager/ca.pem   --tls-cert-file=/var/lib/kube-controller-manager/cert.pem   --tls-private-key-file=/var/lib/kube-controller-manager/cert-key.pem   # Authorization Settings\n  --kubeconfig=/var/lib/kube-controller-manager/kubeconfig\nRestart=on-failure\n\n[Install]\nWantedBy=kubernetes-ready.target\n","name":"kube-controller-manager.service"}]}}
